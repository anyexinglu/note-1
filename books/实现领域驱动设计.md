# 实现领域驱动设计

最近在看`实现领域驱动设计`，记录看到的一些不错的话语。

- 在实施 DDD 时，设计就是代码，代码就是设计。
- 通用语言是团队自己创建的公用语言，团队中同时包含领域专家和软件开发人员。

白板时间

- 对于你目前正在工作的业务领域，思考一下模型中的通用术语和业务操作。
- 将术语写在白板上。
- 然后，将项目中所用到的短语也写下来。
- 与真正的领域专家交流一下，看看哪些词汇是可以改善的（记得带上咖啡哦）。

> 为了分配任务而拆分限界上下文是一种错误的上下文建模方式

## 上下文映射图

上下文映射图表现是项目当前的状态，如果项目会在将来发生变化，你可以到那时才对上下文映射图做相应的更新。关注于当前的项目状态可以帮助你了解你正处的位置，并帮助你决定如何走出下一步。

上下文映射图并不是一种企业架构，也不是系统拓扑图。但是，它可以用于高层次的架构分析，指出诸如集成瓶颈之类的架构不足。上下文映射图展现了一种组织动态能力，它可以帮助我们识别出有碍项目进展的一些管理问题。

上下文映射图中，我们使用以下缩写来表示各种关系：

- ACL 表示防腐层
- OHS 表示开放主机服务
- PL 表示发布语言

## 架构

依赖倒置原则

- 高层模块不应该依赖于底层模块，两者都应该依赖于抽象
- 抽象不应该依赖于细节，细节应该依赖于抽象

DDD 与 REST 结合

- 第一种方法：为系统接口层单独创建一个限界上下文，再在此上下文中通过适当的策略来访问实际的核心模型。
- 使用标准媒体类型

命令和查询职责分离 - CQRS

> 一个方法要么是执行某种动作的命令，要么是返回数据的查询，而不能两者皆是。

在对象层面，意味着：

1. 如果一个方法修改了对象的状态，该方法便是一个命令，它不应该返回数据。
2. 如果一个方法返回来数据，该方法便是一个查询，此时它不应该通过直接的或间接的手段修改对象的状态。

## 实体
